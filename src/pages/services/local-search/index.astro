---
import Layout from '../../../layouts/Layout.astro';
import OptimizedHero from '../../../components/common/OptimizedHero.astro';
import ServiceFeatures from '../../../components/services/ServiceFeatures.astro';
import ServiceProcess from '../../../components/services/ServiceProcess.astro';
import PricingTable from '../../../components/services/PricingTable.astro';
import FAQ from '../../../components/services/FAQ.astro';
import Results from '../../../components/common/Results.astro';
import ServiceCTA from '../../../components/common/ServiceCTA.astro';
import Breadcrumbs from '../../../components/common/Breadcrumbs.astro';
import { serviceBreadcrumbs } from '../../../utils/breadcrumbs';
import { generateServiceSchema, generateBreadcrumbSchema } from '../../../utils/structuredData';

const BASE_URL = import.meta.env.BASE_URL || '';

const schema = {
  "@context": "https://schema.org",
  "@graph": [
    generateServiceSchema({
      name: "Local Search Services",
      description: "Improve your local search visibility and attract more customers in your area.",
      url: "/services/local-search/"
    }),
    generateBreadcrumbSchema(serviceBreadcrumbs.localSearch)
  ]
};

const features = [
  {
    title: "Local SEO Strategy",
    description: "Custom strategies to improve your visibility in local search results.",
    icon: "/images/services/icons/local-seo.svg"
  },
  {
    title: "Citation Building",
    description: "Build and manage local citations to boost your local authority.",
    icon: "/images/services/icons/citation.svg"
  },
  {
    title: "Review Management",
    description: "Monitor and manage your online reviews to improve local rankings.",
    icon: "/images/services/icons/review.svg"
  }
];

const process = [
  {
    number: 1,
    title: "Local Presence Audit",
    description: "We analyze your current local presence and identify opportunities."
  },
  {
    number: 2,
    title: "Strategy Development",
    description: "We create a custom local SEO strategy for your business."
  },
  {
    number: 3,
    title: "Implementation",
    description: "We optimize your local presence across all important platforms."
  },
  {
    number: 4,
    title: "Monitoring & Optimization",
    description: "We continuously monitor and improve your local rankings."
  }
];

const pricing = [
  {
    name: "Local Starter",
    price: "$499/mo",
    description: "For single-location businesses",
    features: [
      "Local SEO Setup",
      "Citation Building",
      "Review Monitoring",
      "Monthly Reporting",
      "Basic GMB Optimization"
    ]
  },
  {
    name: "Local Pro",
    price: "$999/mo",
    description: "For growing businesses",
    isPopular: true,
    features: [
      "Everything in Starter",
      "Advanced GMB Optimization",
      "Review Management",
      "Competitor Analysis",
      "Content Creation",
      "Weekly Updates"
    ]
  },
  {
    name: "Local Enterprise",
    price: "Custom",
    description: "For multi-location businesses",
    features: [
      "Everything in Pro",
      "Multi-Location Management",
      "Custom Reporting",
      "Priority Support",
      "Strategy Consulting",
      "Local Content Strategy"
    ]
  }
];

const faqs = [
  {
    question: "Why is local SEO important?",
    answer: "Local SEO helps your business appear in local search results when potential customers are looking for services in your area. It's essential for brick-and-mortar businesses and service providers targeting specific geographic areas."
  },
  {
    question: "How long does local SEO take?",
    answer: "Initial improvements can be seen within 1-2 months, but significant results typically take 3-6 months as search engines process the optimizations and new citations."
  },
  {
    question: "Do you work with multiple locations?",
    answer: "Yes, we have specialized processes for managing multiple locations, ensuring consistency while optimizing each location for its specific market."
  },
  {
    question: "What platforms do you optimize for?",
    answer: "We optimize your presence across all major platforms including Google Business Profile, Bing Places, Apple Maps, and relevant industry directories."
  }
];

const service = {
  name: "Local Search",
  action: "Dominate Local Search"
};
---

<Layout 
  title="Local Search Services - Dominate Your Market"
  description="Improve your local search visibility and attract more customers in your area. Expert local SEO services for businesses."
  type="service"
  schema={schema}
  ogImage={`${BASE_URL}/images/heroes/local-search.jpg`}
>
  <div class="bg-gray-50">
    <div class="max-w-6xl mx-auto">
      <Breadcrumbs items={serviceBreadcrumbs.localSearch} />
    </div>
  </div>
  
  <OptimizedHero
    title="Local Search Optimization"
    description="Dominate your local market and attract nearby customers. We help your business rank in local search results and Google Maps."
    backgroundImage="/images/heroes/local-search.jpg"
  />
  
  <ServiceFeatures features={features} />
  
  <ServiceProcess steps={process} />

  <Results 
    title="Local Search Impact"
    subtitle="Our local SEO services deliver measurable results"
    stats={[
      {
        value: "200%",
        label: "Average Increase in Local Visibility"
      },
      {
        value: "150%",
        label: "More Phone Calls from Local Searches"
      },
      {
        value: "4.8",
        label: "Average Star Rating for Clients"
      }
    ]}
  />
  
  <PricingTable tiers={pricing} />
  
  <FAQ faqs={faqs} />

  <ServiceCTA service={service} />
</Layout> 